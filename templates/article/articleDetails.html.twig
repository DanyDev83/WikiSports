{% extends 'base.html.twig' %}

{% block title %}Detail article - {% endblock %}

{% block body %}
    <div class="row content">
        <div class="col-sm-3"></div>
        <div class="mt-5 col-sm-5">
            <h2>{{ article.title }}</h2>
            <hr>
            <div class="mt-4">
                <p class="desc">
                    {{ article.content }}
                </p>
                <h5 class="mt-3">Auteur : {{ article.user.username }}</h5>
            </div>
        </div>
        <div class="col-sm-2">
            <div class="mt-5">
                <img src="{{ article.urlPicture }}" class="img-thumbnail" alt="Cinque Terre">
            </div>
        </div>
        {% if app.user and app.user.email == article.user.email %}
            <div class="col-sm-3"></div>
            <div class="mt-4 col-sm-2">
                <a href="{{ path('app_editArticle', {'id': article.id }) }}" type="button" class="btn btn-info">Modifier</a>
                <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#myModal">
                    Supprimer
                </button>
            </div>
            <div class="modal" id="myModal">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title"></h4>Confirmation de suppression
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            Voulez-vous vraiment supprimer l'article nÂ°{{ article.id }}
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Non</button>
                            <a href="{{ path('app_deleteArticle', {'id': article.id }) }}" type="button" class="btn btn-success">Oui</a>
                        </div>
                    </div>
                </div>
            </div>

        {% endif %}
    </div>
{% endblock %}